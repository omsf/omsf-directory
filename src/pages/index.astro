---
import { getCollection } from 'astro:content'
import TagFilter from '../components/TagFilter.svelte'
import BaseLayout from '../layouts/BaseLayout.astro'
import { type SoftwareSchema, compareFunc, getAllTags } from '../schemas'

const software = await getCollection('software')
const filteredSoftware = software.map((tool) => tool.data).sort(compareFunc)
const allTags = getAllTags(filteredSoftware)
---

<BaseLayout currentPage="software">
  <TagFilter client:load items={filteredSoftware} allTags={allTags} />
</BaseLayout>
